<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="description" content="Weihnachtspralinen 2025 von Diana & Moritz â€“ Zutaten, Allergene und kleine Festgeschichten zu jeder Sorte." />
  <meta name="theme-color" content="#fbf7ef" />
  <title>Weihnachtspralinen 2025 Â· Diana & Moritz</title>

  <style>
    /* ==========================
       Hell, schlicht, festlich (mobil-first)
       Ein-Datei-Seite fÃ¼r GitHub Pages
       ========================== */
    :root{
      --bg: #fbf7ef;                 /* warmes Creme */
      --text: #141821;
      --muted: rgba(20,24,33,.70);
      --panel: rgba(255,255,255,.88);
      --panel-2: rgba(255,244,220,.75);
      --border: rgba(20,24,33,.10);
      --shadow: 0 14px 34px rgba(20,24,33,.10);

      --gold: #b8891b;               /* dezentes Gold */
      --evergreen: #1f7a4c;          /* festliches GrÃ¼n */
      --berry: #b42318;              /* warmes Rot */

      --radius: 18px;
      --radius-sm: 14px;
      --pad: clamp(16px, 4vw, 28px);
      --gap: clamp(14px, 3vw, 22px);
      --h1: clamp(2.05rem, 4.6vw, 3.05rem);
      --h2: clamp(1.35rem, 3.2vw, 2.0rem);
      --p:  clamp(1rem, 2.3vw, 1.1rem);
      --max: 980px;
    }

    /* Optional: Nachtmodus bleibt mÃ¶glich, aber Standard ist hell */
    [data-theme="dark"]{
      --bg: #0a0f1a;
      --text: rgba(255,255,255,.94);
      --muted: rgba(255,255,255,.72);
      --panel: rgba(255,255,255,.06);
      --panel-2: rgba(255,255,255,.10);
      --border: rgba(255,255,255,.14);
      --shadow: 0 24px 60px rgba(0,0,0,.25);

      --gold: #f5d27b;
      --evergreen: #86efac;
      --berry: #fda4af;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(900px 520px at 20% 0%, rgba(184,137,27,.14), transparent 55%),
        radial-gradient(900px 520px at 85% 10%, rgba(31,122,76,.10), transparent 55%),
        linear-gradient(180deg, #ffffff, var(--bg));
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
      line-height:1.6;
      overflow-x:hidden;
    }

    a{ color:inherit; text-decoration:none; }
    a:hover{ text-decoration:underline; text-underline-offset: 3px; }

    .container{ max-width:var(--max); margin:0 auto; padding: var(--pad); position:relative; }

    .glass{
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    header{ position:sticky; top:0; z-index:10; padding-top: calc(env(safe-area-inset-top,0px) * .6); }
    .topbar{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding: 10px 12px; }
    .brand{ display:flex; align-items:center; gap:10px; font-weight:850; letter-spacing:.2px; }
    .logo{
      width:32px; height:32px; border-radius:10px;
      border: 1px solid var(--border);
      background: conic-gradient(from 45deg, var(--gold), var(--berry), var(--evergreen), var(--gold));
      box-shadow: 0 10px 22px rgba(20,24,33,.12);
    }

    .btn{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.55);
      cursor:pointer;
      font-weight:750;
    }
    [data-theme="dark"] .btn{ background: rgba(255,255,255,.06); }
    .btn:hover{ background: var(--panel-2); }

    .btn-primary{
      background: linear-gradient(135deg, rgba(184,137,27,.22), rgba(31,122,76,.16));
      border-color: rgba(184,137,27,.35);
    }
    .btn-primary:hover{ background: linear-gradient(135deg, rgba(184,137,27,.28), rgba(31,122,76,.20)); }

    .hero{ margin-top:14px; padding: clamp(18px, 4vw, 26px); display:grid; gap:var(--gap); }
    .kicker{
      display:inline-flex; gap:8px; align-items:center;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.55);
      color:var(--muted);
      font-weight:700;
      width: fit-content;
    }
    [data-theme="dark"] .kicker{ background: rgba(255,255,255,.06); }

    h1{ margin:0; font-size:var(--h1); letter-spacing:-.02em; line-height:1.08; }
    .lead{ margin:0; font-size:var(--p); color:var(--muted); max-width:65ch; }

    .controls{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; }

    .note{
      margin-top: 8px;
      padding: 12px 12px;
      border-radius: var(--radius-sm);
      border: 1px solid rgba(184,137,27,.28);
      background: rgba(255,244,220,.78);
      color: rgba(20,24,33,.86);
    }
    [data-theme="dark"] .note{
      background: rgba(234,179,8,.10);
      border-color: rgba(234,179,8,.28);
      color: var(--text);
    }

    .details{
      margin-top: 10px;
      padding: 10px 12px;
    }
    .details > summary{
      cursor:pointer;
      font-weight:800;
      color: rgba(20,24,33,.88);
      list-style: none;
      padding: 8px 4px;
    }
    [data-theme="dark"] .details > summary{ color: var(--text); }
    .details > summary::-webkit-details-marker{ display:none; }
    .details > summary:before{
      content:"â–¸";
      display:inline-block;
      margin-right: 8px;
      color: var(--evergreen);
      transform: translateY(-1px);
    }
    .details[open] > summary:before{ content:"â–¾"; }

    section{ margin-top: clamp(16px, 3vw, 22px); }
    .section-head{ padding: 16px; }
    h2{ margin:0 0 6px 0; font-size:var(--h2); letter-spacing:-.015em; }
    .sub{ margin:0; color:var(--muted); }

    .grid{ display:grid; gap:var(--gap); margin-top: var(--gap); }
    @media (min-width: 820px){ .grid{ grid-template-columns: repeat(2, 1fr); } }

    .card{
      position:relative;
      padding: 16px;
      border-radius: var(--radius);
      border:1px solid var(--border);
      background: rgba(255,255,255,.78);
      box-shadow: 0 12px 26px rgba(20,24,33,.08);
    }
    [data-theme="dark"] .card{ background: rgba(255,255,255,.045); box-shadow: 0 12px 32px rgba(0,0,0,.18); }

    .card.threat{
      border-color: rgba(180,35,24,.55);
      box-shadow: 0 16px 30px rgba(180,35,24,.14);
      background: rgba(180,35,24,.05);
    }
    [data-theme="dark"] .card.threat{ background: rgba(239,68,68,.08); }

    .head{ display:flex; align-items:center; gap:12px; margin-bottom:6px; }
    .icon{
      width:44px; height:44px;
      border-radius:14px;
      display:grid; place-items:center;
      background: var(--panel-2);
      border:1px solid var(--border);
      color: rgba(20,24,33,.88);
    }
    [data-theme="dark"] .icon{ background: linear-gradient(135deg, rgba(245,210,123,.18), rgba(134,239,172,.12)); color: var(--text); }

    .name{ margin:0; font-size:1.1rem; letter-spacing:-.01em; }
    .coat{ margin:0; font-size:.95rem; color:var(--muted); }
    .desc{ margin:10px 0 10px; color:var(--muted); }
    .list{ margin:0; padding-left: 18px; }
    .list li{ margin: 2px 0; }

    .badges{ display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; }
    .badge{
      display:inline-flex; align-items:center; gap:6px;
      padding:6px 10px;
      border-radius:999px;
      font-size:.9rem;
      border:1px solid var(--border);
      background: rgba(255,255,255,.70);
    }
    [data-theme="dark"] .badge{ background: rgba(255,255,255,.05); }

    .badge.warn{ background: rgba(184,137,27,.14); border-color: rgba(184,137,27,.30); }
    .badge.danger{ background: rgba(180,35,24,.12); border-color: rgba(180,35,24,.30); }

    footer{ margin-top:18px; padding:16px; text-align:center; color:var(--muted); font-size:.95rem; }

    @media print{
      body{ background:white; color:black; }
      .glass, .card{ box-shadow:none; }
      .btn, .controls{ display:none !important; }
      .details{ border: 1px solid #ddd; }
    }

    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
  </style>
</head>
<body>
  <a class="sr-only" href="#pralinen">Zum Inhalt springen</a>

  <header class="container">
    <div class="topbar glass">
      <div class="brand" aria-label="Startseite">
        <div class="logo" aria-hidden="true"></div>
        <span>Diana & Moritz Â· WeihnachtspralinenÂ 2025</span>
      </div>
      <div class="controls" role="group" aria-label="Seiteneinstellungen">
        <button class="btn" id="themeBtn" type="button" aria-label="Theme umschalten">ğŸŒ— Theme</button>
        <button class="btn btn-primary" id="printBtn" type="button" aria-label="Seite drucken">ğŸ–¨ï¸ Drucken</button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero glass" aria-label="EinfÃ¼hrung">
      <div class="kicker">ğŸ„ Frohe Weihnachten 2025</div>
      <h1>Handgemachte Pralinen â€“ mit Liebe, Glanz und einem Hauch Wintermagie.</h1>
      <p class="lead">Hier findest du alle Sorten, die wir in diesem Jahr verschenken â€“ mit Zutaten & eventuellen Allergenen. Scanne einfach den QRâ€‘Code und stÃ¶bere durch unsere kleine, sÃ¼ÃŸe Weihnachtswelt.</p>

      <div class="note">âš ï¸ <strong>Allergenâ€‘Hinweis:</strong> Hausgemacht in einer KÃ¼che, in der <em>NÃ¼sse, ErdnÃ¼sse, Milchprodukte</em> und <em>Gluten</em> verarbeitet werden. Kreuzkontamination ist mÃ¶glich.</div>

      <details class="details glass">
        <summary>Allergenâ€‘Check (optional) â€“ markieren, was du vermeiden mÃ¶chtest</summary>
        <p class="sub" style="margin: 6px 0 10px">Betroffene Pralinen werden auf der Seite deutlich markiert.</p>
        <div class="controls" id="filters" role="group" aria-label="Allergen-Filter">
          <label class="badge"><input type="checkbox" value="nuesse" /> NÃ¼sse (z.â€¯B. Walnuss, Mandel, Pinienkerne)</label>
          <label class="badge"><input type="checkbox" value="erdnuss" /> Erdnuss</label>
          <label class="badge"><input type="checkbox" value="gluten" /> Gluten/Getreide</label>
          <label class="badge"><input type="checkbox" value="milch" /> Milch/Milcherzeugnisse</label>
          <label class="badge"><input type="checkbox" value="honig" /> Honig</label>
          <label class="badge"><input type="checkbox" value="zitrus" /> Zitrus/Orange</label>
          <label class="badge"><input type="checkbox" value="kokos" /> Kokos</label>
        </div>
      </details>
    </section>

    <section id="pralinen" aria-label="Pralinensorten">
      <div class="section-head glass">
        <h2>Unsere 6 Sorten</h2>
        <p class="sub">Jede Sorte mit kurzer Festbeschreibung, Zutaten und mÃ¶glichen Allergenen.</p>
      </div>

      <div class="grid" id="cards">
        <!-- 1. WeiÃŸes Herz â€“ Pinienkerne & Himbeere -->
        <article class="card" data-allergens="nuesse,honig,milch" aria-labelledby="p1-title">
          <div class="head">
            <div class="icon" aria-hidden="true">
              <!-- Herz -->
              <svg viewBox="0 0 24 24" width="26" height="26" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M12 21s-7-4.35-9.5-7.85C.88 10.9 2 7.5 5.2 6.6 7.26 6 9.08 6.9 10 8c.92-1.1 2.74-2 4.8-1.4 3.2.9 4.32 4.3 2.7 6.55C19 16.65 12 21 12 21Z" stroke="currentColor" stroke-width="1.2" fill="currentColor" opacity=".85"/>
              </svg>
            </div>
            <div>
              <h3 class="name" id="p1-title">WeiÃŸes Herz â€“ Pinienkerne & Himbeere</h3>
              <p class="coat">Ummantelung: weiÃŸe Schokolade</p>
            </div>
          </div>
          <p class="desc">Zart wie der erste Schnee: Ein Herz aus weiÃŸer Schokolade, in dem sich nussige Pinienkerne mit rubinroter Himbeere vereinen â€“ gekrÃ¶nt von einem feinen Kuss aus Honig.</p>
          <p style="margin:.2rem 0 .2rem"><strong>Zutaten:</strong></p>
          <ul class="list">
            <li>Ummantelung: weiÃŸe Schokolade</li>
            <li>FÃ¼llung: Pinienkerne, getrocknete Himbeeren, etwas Honig</li>
          </ul>
          <div class="badges" aria-label="Allergene">
            <span class="badge warn">âš ï¸ NÃ¼sse (Pinienkerne)</span>
            <span class="badge">ğŸ¯ Honig</span>
            <span class="badge">ğŸ¥› Milch (in weiÃŸer Schokolade)</span>
          </div>
        </article>

        <!-- 2. WeiÃŸe Schneeflocke â€“ Spekulatius, Walnuss & Mandelcreme -->
        <article class="card" data-allergens="gluten,nuesse,milch" aria-labelledby="p2-title">
          <div class="head">
            <div class="icon" aria-hidden="true">
              <!-- Schneeflocke -->
              <svg viewBox="0 0 24 24" width="26" height="26" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M12 3v18M3 12h18M5 7l14 10M5 17L19 7" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
              </svg>
            </div>
            <div>
              <h3 class="name" id="p2-title">WeiÃŸe Schneeflocke â€“ Spekulatius, Walnuss & Mandelcreme</h3>
              <p class="coat">Ummantelung: weiÃŸe Schokolade</p>
            </div>
          </div>
          <p class="desc">Knusprig wie Winterluft: Spekulatius trifft auf frische Walnuss, gebettet in sanfte Mandelcreme â€“ ein kleiner FestgruÃŸ in Flockenform.</p>
          <p style="margin:.2rem 0 .2rem"><strong>Zutaten:</strong></p>
          <ul class="list">
            <li>Ummantelung: weiÃŸe Schokolade</li>
            <li>FÃ¼llung: Spekulatius, Walnuss, Mandelcreme</li>
          </ul>
          <div class="badges" aria-label="Allergene">
            <span class="badge danger">ğŸš« Gluten (Spekulatius)</span>
            <span class="badge warn">âš ï¸ NÃ¼sse (Walnuss, Mandel)</span>
            <span class="badge">ğŸ¥› Milch (in weiÃŸer Schokolade)</span>
          </div>
        </article>

        <!-- 3. Zartbitter-Iglu â€“ Schokolade & Cornflakes -->
        <article class="card" data-allergens="gluten" aria-labelledby="p3-title">
          <div class="head">
            <div class="icon" aria-hidden="true">
              <!-- Iglu -->
              <svg viewBox="0 0 24 24" width="26" height="26" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M4 16a8 8 0 1 1 16 0v2H4v-2Z" stroke="currentColor" stroke-width="1.2" fill="currentColor" opacity=".14"/>
                <path d="M6 16c0-3.3 2.7-6 6-6s6 2.7 6 6" stroke="currentColor" stroke-width="1.2"/>
                <path d="M10 18v-2a2 2 0 0 1 4 0v2" stroke="currentColor" stroke-width="1.2"/>
              </svg>
            </div>
            <div>
              <h3 class="name" id="p3-title">Zartbitterâ€‘Iglu â€“ Schoko & Cornflakes</h3>
              <p class="coat">Ummantelung: zartbittere Schokolade</p>
            </div>
          </div>
          <p class="desc">Knackig wie Eiskristalle: Dunkle Schokolade umarmt knusprige Cornflakes â€“ schlicht, ehrlich, unwiderstehlich.</p>
          <p style="margin:.2rem 0 .2rem"><strong>Zutaten:</strong></p>
          <ul class="list">
            <li>Ummantelung: zartbittere Schokolade</li>
            <li>FÃ¼llung: dunkle Schokolade, Cornflakes</li>
          </ul>
          <div class="badges" aria-label="Allergene">
            <span class="badge danger">ğŸš« Gluten (Cornflakes â€“ je nach Marke Malz)</span>
          </div>
        </article>

        <!-- 4. Zartbitter-Stern â€“ Knusperflocke & Orange -->
        <article class="card" data-allergens="gluten,zitrus" aria-labelledby="p4-title">
          <div class="head">
            <div class="icon" aria-hidden="true">
              <!-- Stern -->
              <svg viewBox="0 0 24 24" width="26" height="26" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="m12 3 2.7 5.6 6.2.9-4.5 4.4 1.1 6.2L12 17.8 6.5 20l1.1-6.2L3 9.5l6.3-.9L12 3Z" stroke="currentColor" stroke-width="1.2" fill="currentColor" opacity=".16"/>
              </svg>
            </div>
            <div>
              <h3 class="name" id="p4-title">Zartbitterâ€‘Stern â€“ Knusperflocke & Bioâ€‘Orange</h3>
              <p class="coat">Ummantelung: zartbittere Schokolade</p>
            </div>
          </div>
          <p class="desc">Ein Stern fÃ¼r den Gaumen: Schokoladige Knusperflocke mit funkelnder Zeste von echter Bioâ€‘Orange â€“ dunkel, duftend, festlich.</p>
          <p style="margin:.2rem 0 .2rem"><strong>Zutaten:</strong></p>
          <ul class="list">
            <li>Ummantelung: zartbittere Schokolade</li>
            <li>FÃ¼llung: Schokoladenâ€‘Knusperflocke, Abrieb der Schale einer Bioâ€‘Orange</li>
          </ul>
          <div class="badges" aria-label="Allergene">
            <span class="badge danger">ğŸš« Gluten (Getreide in Knusperflocke)</span>
            <span class="badge">ğŸŠ Zitrus (Orange)</span>
          </div>
        </article>

        <!-- 5. 80%-Tannenbaum â€“ Kokos & Kondensmilch -->
        <article class="card" data-allergens="milch,kokos" aria-labelledby="p5-title">
          <div class="head">
            <div class="icon" aria-hidden="true">
              <!-- Tannenbaum -->
              <svg viewBox="0 0 24 24" width="26" height="26" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M12 3 8.5 8H11l-3 4h3l-3 4h8l-3-4h3l-3-4h2.5L12 3Z" stroke="currentColor" stroke-width="1.2" fill="currentColor" opacity=".14"/>
                <path d="M10.5 19.5h3" stroke="currentColor" stroke-width="1.2"/>
              </svg>
            </div>
            <div>
              <h3 class="name" id="p5-title">80%â€‘Tannenbaum â€“ Kokos & Kondensmilch</h3>
              <p class="coat">Ummantelung: 80% Bitterschokolade</p>
            </div>
          </div>
          <p class="desc">Wie ein stiller Winterabend bei Kerzenschein: Dunkle Schokolade umhÃ¼llt eine cremige Kokosâ€‘Kondensmilchâ€‘FÃ¼llung â€“ weich, rund und festlich.</p>
          <p style="margin:.2rem 0 .2rem"><strong>Zutaten:</strong></p>
          <ul class="list">
            <li>Ummantelung: 80% Bitterschokolade</li>
            <li>FÃ¼llung: Kokosraspeln, Kondensmilch</li>
          </ul>
          <div class="badges" aria-label="Allergene">
            <span class="badge">ğŸ¥› Milch (Kondensmilch)</span>
            <span class="badge warn">âš ï¸ Kokos</span>
          </div>
        </article>

        <!-- 6. 80%-Christbaumkugel â€“ Karamell & Erdnuss -->
        <article class="card" data-allergens="erdnuss,milch" aria-labelledby="p6-title">
          <div class="head">
            <div class="icon" aria-hidden="true">
              <!-- Christbaumkugel -->
              <svg viewBox="0 0 24 24" width="26" height="26" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <circle cx="12" cy="13" r="7" stroke="currentColor" stroke-width="1.2" fill="currentColor" opacity=".12"/>
                <rect x="10.2" y="4" width="3.6" height="3" rx=".6" stroke="currentColor" stroke-width="1.2"/>
              </svg>
            </div>
            <div>
              <h3 class="name" id="p6-title">80%â€‘Christbaumkugel â€“ Karamell & Erdnuss</h3>
              <p class="coat">Ummantelung: 80% Bitterschokolade</p>
            </div>
          </div>
          <p class="desc">Wie ein glÃ¤nzender Baumschmuck am Heiligabend: KrÃ¤ftige Bitterschokolade trifft auf samtiges Karamell und herzhafte Erdnuss â€“ ein kleiner Klassiker im festlichen Gewand.</p>
          <p style="margin:.2rem 0 .2rem"><strong>Zutaten:</strong></p>
          <ul class="list">
            <li>Ummantelung: 80% Bitterschokolade</li>
            <li>FÃ¼llung: Karamell, ErdnÃ¼sse</li>
          </ul>
          <div class="badges" aria-label="Allergene">
            <span class="badge danger">ğŸš« Erdnuss</span>
            <span class="badge">ğŸ¥› Milch (im Karamell)</span>
          </div>
        </article>
      </div>
    </section>

    <footer class="glass">
      <div>Â© <span id="year"></span> Diana & Moritz Â· Liebe handgemacht. | <span style="opacity:.8">Stand: WeihnachtenÂ 2025</span></div>
    </footer>
  </main>

  <script>
    // Theme toggle (Standard: hell)
    const root = document.documentElement;
    const themeBtn = document.getElementById('themeBtn');
    const storedTheme = localStorage.getItem('theme');

    function applyTheme(t){
      if(t === 'dark') root.setAttribute('data-theme','dark');
      else root.removeAttribute('data-theme');
      localStorage.setItem('theme', t);
    }

    // Standard ist hell; Nachtmodus nur wenn aktiv gewÃ¤hlt
    applyTheme(storedTheme ? storedTheme : 'light');

    themeBtn.addEventListener('click',()=>{
      const isDark = root.getAttribute('data-theme') === 'dark';
      applyTheme(isDark ? 'light' : 'dark');
    });

    // Print button
    document.getElementById('printBtn').addEventListener('click',()=> window.print());

    // Allergen filter: mark cards that match any selected allergen
    const filters = document.getElementById('filters');
    const cards = Array.from(document.querySelectorAll('.card'));

    function updateAllergenHighlights(){
      if(!filters) return;
      const selected = Array.from(filters.querySelectorAll('input:checked')).map(i=>i.value);
      cards.forEach(card=>{
        const tags = (card.getAttribute('data-allergens')||'').split(',').map(s=>s.trim()).filter(Boolean);
        const hit = selected.length>0 && selected.some(s=>tags.includes(s));
        card.classList.toggle('threat', hit);
        card.setAttribute('aria-label', (card.querySelector('.name')?.textContent||'') + (hit? ' â€“ enthÃ¤lt ausgewÃ¤hlte Allergene' : ''));
      });
    }

    if(filters){
      filters.addEventListener('change', updateAllergenHighlights);
    }

    // Jahreszahl
    document.getElementById('year').textContent = new Date().getFullYear();

    // --- Mini-Selbsttests (nur Konsole) ---
    (function runSelfTests(){
      try{
        const results = [];
        results.push({name: 'Buttons vorhanden', pass: !!themeBtn && !!document.getElementById('printBtn')});
        results.push({name: '6 Pralinenkarten vorhanden', pass: cards.length === 6});

        const before = root.getAttribute('data-theme');
        applyTheme('dark');
        const afterDark = root.getAttribute('data-theme') === 'dark';
        applyTheme('light');
        const afterLight = !root.getAttribute('data-theme');
        if(before === 'dark') applyTheme('dark'); // Zustand wiederherstellen
        results.push({name: 'Theme-Umschaltung setzt Attribute korrekt', pass: afterDark && afterLight});

        // Allergen-Markierung simulieren, wenn Filter existiert
        if(filters){
          const firstCard = cards[0];
          const cb = filters.querySelector('input[value="nuesse"]');
          const hadChecked = cb && cb.checked;
          if(cb){
            cb.checked = true;
            updateAllergenHighlights();
            const marked = firstCard.classList.contains('threat');
            cb.checked = !!hadChecked;
            updateAllergenHighlights();
            results.push({name: 'Allergen-Highlight funktioniert', pass: marked});
          }
        }

        const allPass = results.every(r=>r.pass);
        console.log('%cWeihnachtspralinen 2025 â€“ Self Tests', 'font-weight:800');
        results.forEach(r=>console.log(`${r.pass ? 'âœ…' : 'âŒ'} ${r.name}`));
        if(!allPass) console.warn('Ein oder mehrere Self Tests sind fehlgeschlagen.');
      }catch(e){
        console.warn('Self Tests konnten nicht ausgefÃ¼hrt werden:', e);
      }
    })();
  </script>
</body>
</html>
